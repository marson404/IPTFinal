import{a as E}from"./chunk-2VDI6ZMC.js";import{a as R,b as V,c as O,d as W,e as L,f as F,l as I,n as k,o as T}from"./chunk-SWDTLJ4O.js";import{A as h,B as _,F as C,I as w,K as r,L as i,N as M,O as y,P,T as S,U as n,W as b,Y as g,Z as c,_ as p,la as v,na as N,s as d,t as m,ta as x,y as o}from"./chunk-RY5F4FTU.js";function A(f,s){if(f&1&&(r(0,"div",19),n(1),i()),f&2){let l=P();o(),b(" ",l.error," ")}}var q=class f{constructor(s,l){this.router=s;this.authService=l;this.authService.isLoggedIn()&&this.router.navigate(["/"])}firstName="";lastName="";email="";password="";confirmPassword="";loading=!1;error="";onSubmit(){if(!this.firstName||!this.lastName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(this.password!==this.confirmPassword){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="",this.authService.register({first_name:this.firstName,last_name:this.lastName,email:this.email,password:this.password}).subscribe({next:()=>{this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate(["/"])},error:s=>{this.error=s.message||"Failed to login after registration",this.loading=!1}})},error:s=>{this.error=s.message||"Failed to register",this.loading=!1}})}static \u0275fac=function(l){return new(l||f)(h(x),h(E))};static \u0275cmp=_({type:f,selectors:[["app-register"]],decls:34,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","name","firstName","required","","placeholder","Enter your first name",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName"],["type","text","id","lastName","name","lastName","required","","placeholder","Enter your last name",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",3,"disabled"],["routerLink","/login"],[1,"alert","alert-danger"]],template:function(l,e){if(l&1){let a=M();r(0,"div",1)(1,"div",2)(2,"h2"),n(3,"Register"),i(),C(4,A,2,1,"div",3),r(5,"form",4,0),y("ngSubmit",function(){return d(a),m(e.onSubmit())}),r(7,"div",5)(8,"label",6),n(9,"First Name"),i(),r(10,"input",7),p("ngModelChange",function(t){return d(a),c(e.firstName,t)||(e.firstName=t),m(t)}),i()(),r(11,"div",5)(12,"label",8),n(13,"Last Name"),i(),r(14,"input",9),p("ngModelChange",function(t){return d(a),c(e.lastName,t)||(e.lastName=t),m(t)}),i()(),r(15,"div",5)(16,"label",10),n(17,"Email"),i(),r(18,"input",11),p("ngModelChange",function(t){return d(a),c(e.email,t)||(e.email=t),m(t)}),i()(),r(19,"div",5)(20,"label",12),n(21,"Password"),i(),r(22,"input",13),p("ngModelChange",function(t){return d(a),c(e.password,t)||(e.password=t),m(t)}),i()(),r(23,"div",5)(24,"label",14),n(25,"Confirm Password"),i(),r(26,"input",15),p("ngModelChange",function(t){return d(a),c(e.confirmPassword,t)||(e.confirmPassword=t),m(t)}),i()(),r(27,"div",16)(28,"button",17),n(29),i(),r(30,"p"),n(31,"Already have an account? "),r(32,"a",18),n(33,"Login"),i()()()()()()}if(l&2){let a=S(6);o(4),w("ngIf",e.error),o(6),g("ngModel",e.firstName),o(4),g("ngModel",e.lastName),o(4),g("ngModel",e.email),o(4),g("ngModel",e.password),o(4),g("ngModel",e.confirmPassword),o(2),w("disabled",!a.form.valid||e.loading),o(),b(" ",e.loading?"Registering...":"Register"," ")}},dependencies:[N,v,T,F,R,V,O,I,k,L,W],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa}.register-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#333;text-align:center;font-size:1.75rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-actions[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3;transform:translateY(-1px);box-shadow:0 2px 4px #00000026}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:1rem;border-radius:6px;background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}p[_ngcontent-%COMP%]{margin:1rem 0 0;color:#666}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{q as RegisterComponent};
