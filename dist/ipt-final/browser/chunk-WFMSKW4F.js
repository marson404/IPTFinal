import{f as o,g as a,i as r,k as c,n as p,pa as l,q as u,ya as i}from"./chunk-RY5F4FTU.js";var m=class n{constructor(t){this.http=t}apiUrl=`${i.apiUrl}/api/accounts`;authUrl=`${i.apiUrl}/api/auth`;handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=t.error.message:e=t.error.message||t.error.error||t.message,console.error("Account service error:",t),o(()=>e)}getAll(){return this.http.get(this.apiUrl).pipe(r(this.handleError))}getById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(r(this.handleError))}create(t){return this.http.post(`${this.authUrl}/register`,t).pipe(a(e=>e.user),r(this.handleError))}update(t,e){return console.log("Updating account:",{id:t,account:e}),this.http.put(`${this.apiUrl}/${t}`,e).pipe(c(s=>console.log("Update response:",s)),r(s=>(console.error("Update error:",s),o(()=>({message:s.error?.message||s.error?.error||s.message||"Failed to update account"})))))}delete(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe(r(this.handleError))}getAllActiveUsers(){return this.http.get(`${this.apiUrl}?status=Active`).pipe(r(this.handleError))}getAccounts(){return this.getAll()}getAccount(t){return this.getById(t)}createAccount(t){return this.create(t)}updateAccount(t,e){return this.update(t,e)}deleteAccount(t){return this.delete(t)}static \u0275fac=function(e){return new(e||n)(u(l))};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};export{m as a};
