import{a as N,b as k,c as q,d as F,e as L,f as B,h as D,i as R,j as z,l as j,m as U,n as G,o as H}from"./chunk-SWDTLJ4O.js";import{a as J}from"./chunk-WFMSKW4F.js";import{A as y,B as x,F as g,I as s,J as E,K as e,L as t,M as O,N as V,O as C,P as M,T as _,U as o,W as A,Y as f,Z as v,_ as w,a as S,b as P,la as T,na as W,s as u,t as p,ta as I,y as a}from"./chunk-RY5F4FTU.js";function Q(r,d){if(r&1&&(e(0,"div",38),o(1),t()),r&2){let l=M();a(),A(" ",l.error," ")}}function X(r,d){r&1&&(e(0,"div",39),o(1," First name is required "),t())}function Y(r,d){r&1&&(e(0,"div",39),o(1," Last name is required "),t())}function Z(r,d){r&1&&(e(0,"div"),o(1,"Email is required"),t())}function $(r,d){r&1&&(e(0,"div"),o(1,"Please enter a valid email address"),t())}function ee(r,d){if(r&1&&(e(0,"div",39),g(1,Z,2,0,"div",40)(2,$,2,0,"div",40),t()),r&2){M();let l=_(32);a(),s("ngIf",l.errors==null?null:l.errors.required),a(),s("ngIf",l.errors==null?null:l.errors.email)}}function te(r,d){r&1&&(e(0,"div"),o(1,"Password is required"),t())}function ne(r,d){r&1&&(e(0,"div"),o(1,"Password must be at least 6 characters long"),t())}function ie(r,d){if(r&1&&(e(0,"div",39),g(1,te,2,0,"div",40)(2,ne,2,0,"div",40),t()),r&2){M();let l=_(39);a(),s("ngIf",l.errors==null?null:l.errors.required),a(),s("ngIf",l.errors==null?null:l.errors.minlength)}}var K=class r{constructor(d,l){this.router=d;this.accountService=l}account={title:"Mr",first_name:"",last_name:"",email:"",role:"User",status:"Active"};password="";showPassword=!1;loading=!1;error="";onSubmit(){if(this.isFormValid()){this.loading=!0;let d=P(S({},this.account),{password:this.password});this.accountService.create(d).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/accounts"])},error:l=>{this.loading=!1,this.error=l.error?.message||"Failed to create account"}})}}isFormValid(){return!!(this.account.title&&this.account.first_name&&this.account.last_name&&this.account.email&&this.account.role&&this.account.status&&this.password&&this.password.length>=6)}cancel(){this.router.navigate(["/accounts"])}static \u0275fac=function(l){return new(l||r)(y(I),y(J))};static \u0275cmp=x({type:r,selectors:[["app-add-account"]],decls:64,vars:20,consts:[["accountForm","ngForm"],["firstName","ngModel"],["lastName","ngModel"],["email","ngModel"],["passwordField","ngModel"],[1,"card"],[1,"card-header"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"form-container"],[1,"form-group"],["for","title"],["id","title","name","title","required","",3,"ngModelChange","ngModel"],["value","Mr"],["value","Mrs"],["for","first_name"],["type","text","id","first_name","name","first_name","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","last_name"],["type","text","id","last_name","name","last_name","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","email","",3,"ngModelChange","ngModel"],["for","password"],[1,"password-input-container"],["id","password","name","password","required","","minlength","6","placeholder","Enter password (minimum 6 characters)",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"password-toggle",3,"click"],[1,"fas"],["for","role"],["id","role","name","role","required","",3,"ngModelChange","ngModel"],["value","Admin"],["value","User"],["for","status"],["id","status","name","status","required","",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"button-container"],["type","submit",3,"disabled"],["type","button",1,"cancel",3,"click","disabled"],[1,"alert","alert-danger"],[1,"error-message"],[4,"ngIf"]],template:function(l,n){if(l&1){let m=V();e(0,"div",5)(1,"div",6)(2,"h2"),o(3,"Add Account"),t()(),g(4,Q,2,1,"div",7),e(5,"form",8,0),C("ngSubmit",function(){return u(m),p(n.onSubmit())}),e(7,"div",9)(8,"div",10)(9,"label",11),o(10,"Title"),t(),e(11,"select",12),w("ngModelChange",function(i){return u(m),v(n.account.title,i)||(n.account.title=i),p(i)}),e(12,"option",13),o(13,"Mr"),t(),e(14,"option",14),o(15,"Mrs"),t()()(),e(16,"div",10)(17,"label",15),o(18,"First Name"),t(),e(19,"input",16,1),w("ngModelChange",function(i){return u(m),v(n.account.first_name,i)||(n.account.first_name=i),p(i)}),t(),g(21,X,2,0,"div",17),t(),e(22,"div",10)(23,"label",18),o(24,"Last Name"),t(),e(25,"input",19,2),w("ngModelChange",function(i){return u(m),v(n.account.last_name,i)||(n.account.last_name=i),p(i)}),t(),g(27,Y,2,0,"div",17),t(),e(28,"div",10)(29,"label",20),o(30,"Email"),t(),e(31,"input",21,3),w("ngModelChange",function(i){return u(m),v(n.account.email,i)||(n.account.email=i),p(i)}),t(),g(33,ee,3,2,"div",17),t(),e(34,"div",10)(35,"label",22),o(36,"Password"),t(),e(37,"div",23)(38,"input",24,4),w("ngModelChange",function(i){return u(m),v(n.password,i)||(n.password=i),p(i)}),t(),e(40,"button",25),C("click",function(){return u(m),p(n.showPassword=!n.showPassword)}),O(41,"i",26),t()(),g(42,ie,3,2,"div",17),t(),e(43,"div",10)(44,"label",27),o(45,"Role"),t(),e(46,"select",28),w("ngModelChange",function(i){return u(m),v(n.account.role,i)||(n.account.role=i),p(i)}),e(47,"option",29),o(48,"Admin"),t(),e(49,"option",30),o(50,"User"),t()()(),e(51,"div",10)(52,"label",31),o(53,"Status"),t(),e(54,"select",32),w("ngModelChange",function(i){return u(m),v(n.account.status,i)||(n.account.status=i),p(i)}),e(55,"option",33),o(56,"Active"),t(),e(57,"option",34),o(58,"Inactive"),t()()()(),e(59,"div",35)(60,"button",36),o(61),t(),e(62,"button",37),C("click",function(){return u(m),p(n.cancel())}),o(63,"Cancel"),t()()()()}if(l&2){let m=_(6),c=_(20),i=_(26),h=_(32),b=_(39);a(4),s("ngIf",n.error),a(7),f("ngModel",n.account.title),a(8),f("ngModel",n.account.first_name),a(2),s("ngIf",c.invalid&&(c.dirty||c.touched)),a(4),f("ngModel",n.account.last_name),a(2),s("ngIf",i.invalid&&(i.dirty||i.touched)),a(4),f("ngModel",n.account.email),a(2),s("ngIf",h.invalid&&(h.dirty||h.touched)),a(5),s("type",n.showPassword?"text":"password"),f("ngModel",n.password),a(3),E("fa-eye",!n.showPassword)("fa-eye-slash",n.showPassword),a(),s("ngIf",b.invalid&&(b.dirty||b.touched)),a(4),f("ngModel",n.account.role),a(8),f("ngModel",n.account.status),a(6),s("disabled",!m.form.valid||n.loading),a(),A(" ",n.loading?"Saving...":"Save"," "),a(),s("disabled",n.loading)}},dependencies:[H,B,R,z,N,D,k,q,j,G,U,L,F,W,T],styles:[".card[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:1.5rem 2rem;background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;font-family:Arial,sans-serif;display:flex;flex-direction:column;gap:1.5rem}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-weight:400;color:#222;font-size:1.75rem;border-bottom:1.5px solid #ccc;padding-bottom:.5rem}.form-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem 2rem}.form-group[_ngcontent-%COMP%]{flex:1 1 48%;display:flex;flex-direction:column;margin-bottom:1rem}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;transition:border-color .2s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.button-container[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:flex-end;gap:.75rem}button[_ngcontent-%COMP%]{padding:.5rem 1.25rem;background-color:#1976d2;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .2s ease}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1565c0}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}button.cancel[_ngcontent-%COMP%]{background-color:#6c757d}button.cancel[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-bottom:1rem}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding-right:40px}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;padding:5px;cursor:pointer;color:#666}.password-toggle[_ngcontent-%COMP%]:hover{color:#333}"]})};export{K as AddAccountComponent};
